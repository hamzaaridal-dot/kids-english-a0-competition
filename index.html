<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kids English Competition â€“ A0</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f0f8ff;
  padding: 20px;
  text-align: center;
}
h1 { color: #4CAF50; }
.section {
  background: white;
  border: 2px solid #4CAF50;
  border-radius: 12px;
  padding: 20px;
  margin: 20px auto;
  max-width: 900px;
}
.question { margin: 12px 0; }
button {
  padding: 10px 16px;
  font-size: 16px;
  cursor: pointer;
  margin: 5px;
}
input {
  font-size: 18px;
  width: 60px;
  text-align: center;
}
.emoji {
  font-size: 48px;
  margin: 10px;
  cursor: pointer;
}
.score {
  font-size: 20px;
  font-weight: bold;
  color: #ff5722;
}
footer {
  margin-top: 30px;
  font-size: 12px;
}
audio { display: block; margin: 10px auto; }
</style>
</head>

<body>

<h1>Kids English Competition â€“ Level A0</h1>
<p>Age: 5 years | Starters</p>

<!-- LISTENING -->
<div class="section">
<h2>1. Listening</h2>
<p>Listen and choose the correct emoji.</p>

<div class="question">
<button onclick="play('banana')">ğŸ”Š</button><br>
<span class="emoji" onclick="check(0,'ğŸŒ')">ğŸŒ</span>
<span class="emoji" onclick="check(0,'ğŸ')">ğŸ</span>
<span class="emoji" onclick="check(0,'ğŸ‰')">ğŸ‰</span>
</div>

<div class="question">
<button onclick="play('apple')">ğŸ”Š</button><br>
<span class="emoji" onclick="check(1,'ğŸ')">ğŸ</span>
<span class="emoji" onclick="check(1,'ğŸŒ')">ğŸŒ</span>
<span class="emoji" onclick="check(1,'ğŸ‰')">ğŸ‰</span>
</div>

<div class="question">
<button onclick="play('happy')">ğŸ”Š</button><br>
<span class="emoji" onclick="check(2,'ğŸ˜Š')">ğŸ˜Š</span>
<span class="emoji" onclick="check(2,'ğŸ˜¢')">ğŸ˜¢</span>
<span class="emoji" onclick="check(2,'ğŸ˜´')">ğŸ˜´</span>
</div>
</div>

<!-- SPEAKING -->
<div class="section">
<h2>2. Speaking</h2>
<p>Click Record ğŸ¤ to speak, then Stop â¹, and playback will appear.</p>

<div class="question">
1. What is your name?<br>
<button onclick="startRecording(this)">ğŸ¤ Record</button>
<button onclick="stopRecording()">â¹ Stop</button>
<audio controls></audio>
</div>

<div class="question">
2. How old are you?<br>
<button onclick="startRecording(this)">ğŸ¤ Record</button>
<button onclick="stopRecording()">â¹ Stop</button>
<audio controls></audio>
</div>

<div class="question">
3. Are you a boy or a girl?<br>
<button onclick="startRecording(this)">ğŸ¤ Record</button>
<button onclick="stopRecording()">â¹ Stop</button>
<audio controls></audio>
</div>

<div class="question">
4. Do you like apples or bananas?<br>
<button onclick="startRecording(this)">ğŸ¤ Record</button>
<button onclick="stopRecording()">â¹ Stop</button>
<audio controls></audio>
</div>
</div>

<!-- READING -->
<div class="section">
<h2>3. Reading</h2>
<p>Read aloud the word or sentence.</p>

<div class="question">
CAT<br>
<button onclick="startRecording(this)">ğŸ¤ Record</button>
<button onclick="stopRecording()">â¹ Stop</button>
<audio controls></audio>
</div>

<div class="question">
DOG<br>
<button onclick="startRecording(this)">ğŸ¤ Record</button>
<button onclick="stopRecording()">â¹ Stop</button>
<audio controls></audio>
</div>

<div class="question">
I am happy.<br>
<button onclick="startRecording(this)">ğŸ¤ Record</button>
<button onclick="stopRecording()">â¹ Stop</button>
<audio controls></audio>
</div>

<div class="question">
This is a ball.<br>
<button onclick="startRecording(this)">ğŸ¤ Record</button>
<button onclick="stopRecording()">â¹ Stop</button>
<audio controls></audio>
</div>
</div>

<!-- WRITING -->
<div class="section">
<h2>4. Writing</h2>

<p>A <input maxlength="1"></p>
<p>B <input maxlength="1"></p>
<p>C <input maxlength="1"></p>
<p>D <input maxlength="1"></p>
<p>E <input maxlength="1"></p>
</div>

<!-- RESULT -->
<div class="section">
<h2>Result</h2>
<p class="score">Teacher evaluation ğŸ˜Š ğŸ˜ ğŸ˜¢</p>
</div>

<footer>Kids English Competition â€“ A0</footer>

<script>
const correct = ['ğŸŒ','ğŸ','ğŸ˜Š'];
let mediaRecorder;
let audioChunks = [];

function play(word){
  const u = new SpeechSynthesisUtterance(word);
  u.lang = 'en-US';
  speechSynthesis.speak(u);
}

function check(i,e){
  alert(e === correct[i] ? 'Correct ğŸ‘' : 'Try again ğŸ™‚');
}

function startRecording(button){
  navigator.mediaDevices.getUserMedia({ audio: true })
  .then(stream => {
    mediaRecorder = new MediaRecorder(stream);
    audioChunks = [];
    mediaRecorder.ondataavailable = e => audioChunks.push(e.data);
    mediaRecorder.onstop = () => {
      const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
      const audioURL = URL.createObjectURL(audioBlob);
      const audioEl = button.parentElement.querySelector("audio");
      audioEl.src = audioURL;
    };
    mediaRecorder.start();
    alert("Recording started ğŸ¤");
  })
  .catch(err => alert("Microphone access denied."));
}

function stopRecording(){
  if(mediaRecorder) {
    mediaRecorder.stop();
    alert("Recording stopped â¹");
  }
}
</script>

</body>
</html>
